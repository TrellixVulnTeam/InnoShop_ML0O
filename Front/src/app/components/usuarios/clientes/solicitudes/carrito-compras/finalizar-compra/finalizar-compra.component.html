
<div class="mb-60">
    <section class="content py-4 ">
      <div class="container-fluid">
        <div class="row">
          <section class="col-lg-5 connectedSortable">
            <div class="tab-content p-0">
              <div class="card">
                <div class="card-body">
                  <div class="card-header">
                    <h2 style="color: #2C4F61;" class="card-title font-weight-light">DETALLE</h2>

                  </div>
              <div class="cart-page-total" style="text-align: left;">
                <ul class="mb-20">
                <li>Subtotal <span>{{
                  this.carritoDeComprasService.carritoDeCompras.Valor -
                  ((this.carritoDeComprasService.carritoDeCompras.Valor * this.ventasService.iva.Porcentaje) / 100)| currency}}</span></li>
                <li>Valor iva
                  <span>{{((this.carritoDeComprasService.carritoDeCompras.Valor * this.ventasService.iva.Porcentaje) / 100)| currency}}</span>
                </li>
                <li>Descuento
                  <span id="Descuento">{{(this.descuentosService.descuentoEnVenta.PorcentajeDescuento
                    * this.carritoDeComprasService.carritoDeCompras.Valor /100)| currency}}</span>
                </li>
                <li>Total
                  <span>{{this.carritoDeComprasService.carritoDeCompras.Valor
                  - (this.descuentosService.descuentoEnVenta.PorcentajeDescuento
                    * this.carritoDeComprasService.carritoDeCompras.Valor /100)| currency}}</span>
                </li>
              </ul>

              </div>


              <button (click)="desplegarCupones()" class="os-btn w-50" >Usar cupón</button>
              <button (click)="pagar()" class="os-btn w-50" >Pagar Paypal</button>
                </div>
                <hr>
<div class="mb-10"><ngx-paypal  [config]="payPalConfig"></ngx-paypal></div>

              </div>
            </div>
          </section>
          <section class="col-lg-7 connectedSortable" *ngIf="this.descuentosService.desplegarListaCupones">
            <div class="tab-content p-0">
              <div  >
                <div *ngIf="this.descuentosService.listaCuponesClientes !== undefined; else noCupones">
                  <div class="card">
                    <div class="card-body">
                      <h2 class="text-center colortxt font-weight-light">CUPONES DISPONIBLES</h2>
                      <table class="table table-hover cupones" style="text-transform: capitalize !important;">
                        <thead>
                        <tr>
                          <th></th>
                          <th scope="col">Descuento</th>
                          <th scope="col">Fecha vencimiento</th>
                        </tr>
                        </thead>
                        <tbody *ngFor="let descuento of descuentosService.listaCuponesClientes">
                        <tr *ngIf="descuento.Estado">
                          <td>
                            <div class="form-check">
                              <input (click)="usarDescuento(descuento)" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                            </div>
                          </td>
                          <td>{{descuento.PorcentajeDescuento}} %</td>
                          <td>{{descuento.FechaVencimiento}}</td>
                        </tr>
                        </tbody>
                      </table>
                    </div>

                    <ng-template #noCupones>
                      <div class="card">
                        <h5 class="card-header">Descuentos</h5>
                        <div class="card-body">
                          <h5 class="card-title">¡Oh no! No tienes cupones</h5>
                          <p class="card-text">¿Quieres conseguir descuentos?</p>
                          <a href="/descuentos/ruleta" class="btn btn-primary">Click aquí</a>
                        </div>
                      </div>
                    </ng-template>

                  </div>

                </div>
              </div>

            </div>
          </section>
        </div>
      </div>
    </section>
</div>

<br>
<br>
<br>
<br>
